asyncapi: 3.0.0

info:
  title: Navi by Deepgram
  description: WebSocket interface for Navi, Deepgram's AI assistant.
  termsOfService: https://deepgram.com/terms/
  contact:
    email: devrel@deepgram.com
  license:
    name: LicenseRef-Proprietary-Deepgram
  version: 1.0.0

servers:
  production:
    host: navi.deepgram.com
    protocol: wss

components:
  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
      description: JWT token obtained from the REST authentication endpoint

channels:
  assistant:
    address: /assistant
    messages:
      userMessage:
        description: Incoming message from the user to the assistant
        payload:
          type: object
          properties:
            content:
              type: string
              description: The user's message text
            message_id:
              type: string
              description: Optional client-provided message identifier

      assistantResponse:
        description: Response from the assistant, with streaming capability
        payload:
          type: object
          properties:
            request_id:
              type: string
              description: Server-generated unique identifier for this request
            message_id:
              type: string
              description: Original client message ID if provided
            content:
              type: string
              description: Partial or complete response text
            status:
              type: string
              enum: [streaming, complete, error]
              description: Indicates the state of the response
